import fs from "fs";

interface FontInfo {
    name: string;
    type: "serif" | "sans-serif" | "monospace";
    supportedLanguages: Array<keyof typeof LANGUAGE_TABLE>;
    mainUse: Array<keyof typeof USE_TABLE>;
    supportVariableFont: boolean;
    license: keyof typeof LICENSE_TABLE;
    website: `https://${string}`;
}

const LANGUAGE_TABLE = {
    ja: "æ—¥æœ¬èª",
    en: "è‹±èª"
} as const;

const USE_TABLE = {
    document: "æ–‡æ›¸",
    design: "ãƒ‡ã‚¶ã‚¤ãƒ³",
    coding: "ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°"
} as const;

const LICENSE_TABLE = {
    "OFL1.1": {
        name: "SIL Open Font License 1.1",
        url: "https://openfontlicense.org/open-font-license-official-text/"
    }
} as const;

const fontCollection = [
    {
        name: "Noto Sans JP",
        type: "sans-serif",
        supportedLanguages: ["ja"],
        mainUse: ["document", "design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://fonts.google.com/noto/specimen/Noto+Sans+JP"
    },
    {
        name: "Noto Serif JP",
        type: "serif",
        supportedLanguages: ["ja"],
        mainUse: ["document", "design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://fonts.google.com/noto/specimen/Noto+Sans+JP"
    },
    {
        name: "Monaspace",
        type: "monospace",
        supportedLanguages: ["en"],
        mainUse: ["coding"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://monaspace.githubnext.com/"
    },
    {
        name: "Moralerspace",
        type: "monospace",
        supportedLanguages: ["ja"],
        mainUse: ["coding"],
        supportVariableFont: false,
        license: "OFL1.1",
        website: "https://github.com/yuru7/moralerspace"
    },
    {
        name: "JetBrains Mono",
        type: "monospace",
        supportedLanguages: ["en"],
        mainUse: ["coding", "design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://www.jetbrains.com/ja-jp/lp/mono/"
    },
    {
        name: "League Spartan",
        type: "sans-serif",
        supportedLanguages: ["en"],
        mainUse: ["design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://www.theleagueofmoveabletype.com/league-spartan"
    },
    {
        name: "League Mono",
        type: "monospace",
        supportedLanguages: ["en"],
        mainUse: ["coding", "design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://www.theleagueofmoveabletype.com/league-mono"
    },
    {
        name: "Mona Sans",
        type: "sans-serif",
        supportedLanguages: ["en"],
        mainUse: ["design"],
        supportVariableFont: true,
        license: "OFL1.1",
        website: "https://github.com/mona-sans"
    }
] as const satisfies FontInfo[];

const fontCollectionText = fontCollection
    .sort((a, b) => a.name.localeCompare(b.name))
    .map((font) => {
        return `
### ${font.name}

- ğŸ–‹ï¸ç¨®é¡ï¼š\`${font.type}\`
- ğŸ’¬å¯¾å¿œè¨€èªï¼š${font.supportedLanguages
            .map((lang) => LANGUAGE_TABLE[lang])
            .sort()
            .join(", ")}
- ğŸ’¡ä¸»ãªç”¨é€”ï¼š${font.mainUse
            .map((use) => USE_TABLE[use])
            .sort()
            .join(", ")}
- âš™ï¸å¯å¤‰ãƒ•ã‚©ãƒ³ãƒˆï¼š${font.supportVariableFont ? "å¯¾å¿œ" : "éå¯¾å¿œ"}
- ğŸ“œãƒ©ã‚¤ã‚»ãƒ³ã‚¹ï¼š[${LICENSE_TABLE[font.license].name}](${LICENSE_TABLE[font.license].url})
- ğŸŒå…¬å¼ã‚µã‚¤ãƒˆï¼š[ãƒªãƒ³ã‚¯](${font.website})
    `.trim();
    });

const result =
    `
<!-- This file is generated by script/generate.ts. Do not edit this file directly. -->

# âœ¨Font Collection

ãŠæ°—ã«å…¥ã‚Šã®ãƒ•ã‚©ãƒ³ãƒˆãŸã¡ã€‚

## ğŸ“šãƒ•ã‚©ãƒ³ãƒˆä¸€è¦§

${fontCollectionText.join("\n\n")}

## ğŸ’»é–‹ç™º

\`README.md\`ã¯ã€\`script/generate.ts\`ã‹ã‚‰ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ã“ã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€æ¬¡ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å…¥åŠ›ã—ã¾ã™ã€‚

\`\`\`sh
npm run generate
\`\`\`
`.trim() + "\n";

fs.writeFileSync("README.md", result);
